<div class="diary-container">
  <div class="diary-header">
    <h1>Êó•Ë®ò</h1>
  </div>

  <div class="diary-list">
    <% @memories.group_by { |m| m.created_at.strftime("%YÂπ¥%-mÊúà") }.each do |month, memories| %>
      <div class="month-divider">
        <%= month %>
      </div>
      
      <% memories.reverse.each do |memory| %>
        <%= link_to memory_path(memory), class: "diary-card" do %>
          <div class="diary-card-date">
            <div class="date-day"><%= memory.created_at.day %></div>
            <div class="date-weekday"><%= %w[Êó• Êúà ÁÅ´ Ê∞¥ Êú® Èáë Âúü][memory.created_at.wday] %></div>
            <div class="date-time"><%= memory.created_at.strftime("%H:%M") %></div>
          </div>
          
          <div class="diary-card-content">
            <% if memory.body.present? %>
              <p style="margin: 0 0 8px 0;"><strong>üìù</strong> <%= truncate(memory.body, length: 50) %></p>
            <% end %>
            <% if memory.exercise.present? %>
              <p style="margin: 0; color: #666;"><strong>üí™</strong> <%= truncate(memory.exercise, length: 50) %></p>
            <% end %>
          </div>
        <% end %>
      <% end %>
    <% end %>
  </div>

  <div class="fab-button">
    <%= link_to memory_index_path do %>
      ‚úé
    <% end %>
  </div>

  <div style="padding: 15px;">
    <%= link_to "Êàª„Çã", memory_index_path, class: "link-btn" %>
  </div>
</div>
